#!/usr/bin/env bash

modules defaults package

read_default version into package_version

read_default base_url into package_base_url

define_package \
  file "otp_src_${package_version}.${archive_format}" \
  dir "otp_src_${package_version}"

dependencies=( ncurses openssl )

if os_is_darwin ; then
  configure_flags=(
    --enable-hipe
    --enable-smp-support
    --enable-threads
    --enable-kernel-poll
    --enable-darwin-64bit
  )
elif os_is_linux ; then
  configure_flags=(
  )
else
  fail "Only darwin and linux are currently implemented."
fi
