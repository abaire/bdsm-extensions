#!/usr/bin/env bash

display_extension_licence

log "

Message:

I am wayneeseguin in #rvm on irc.freenode.net and I am happy to discuss
improving this script, or field questions.

This script will now:

* Install ${package_name}-${package_version} to $install_path
* Put init script in place
* Add mysql to ldconfig (Linux)
* Create and initialize data directory
* Setup profile.d script adding mysql binaries to the path
* Add conf.d file allowing for server customization

"

load cli

# if version_greater_than "5.5" ; do
#   mysql_install_package
# else
  package_install
#fi

ensure_user_exists "${package_user}"

mysql_initdb

mysql_init_script

mysql_ldconfig

mysql_profile_d

mysql_conf_d

log "
Installation and configuration of mysql is now complete.

  * mysql has been installed to $install_path
  * mysql configuration and data files will are in $data_path
  * You can control the mysql server via the bdsm mysql extension'
  * The mysql superuser is '$package_user', no password.
  * Use /etc/conf.d/mysql.conf for server startup customization.

"
