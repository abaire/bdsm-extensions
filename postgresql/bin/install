#!/usr/bin/env bash

display_extension_licence

log "

Message:

I am wayneeseguin in #rvm on irc.freenode.net and I am happy to discuss
improving this script, or field questions.

This script will now:

* Install ${package_name}-${package_version} to $install_path
* Put init script in place
* Add postgresql to ldconfig (Linux)
* Create and initialize data directory
* Setup profile.d script adding postgresql binaries to the path
* Add conf.d file allowing for server customization
* Adjust sysctl kernel parameters for postgresql (Linux)

"

load cli

install_package

postgresql_postinstall

postgresql_initdb

postgresql_init_script

postgresql_ldconfig

postgresql_profile_d

postgresql_conf_d

postgresql_kernel_parameters

log "
Installation and configuration of postgresql is now complete.

  * postgresql has been installed to $install_path
  * postgresql configuration and data files will are in $data_path
  * You can control the postgresql server via the bdsm postgresql extension'
  * The postgersql superuser is '$package_user', no password.
  * Use /etc/conf.d/postgresql.conf for server startup customization.

"
